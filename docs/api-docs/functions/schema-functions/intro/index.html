<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">Intro to Schemas and Databases | Meta-System</title><meta data-react-helmet="true" property="og:url" content="https://mapikit.github.io/meta-system-docs/docs/api-docs/functions/schema-functions/intro"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Intro to Schemas and Databases | Meta-System"><meta data-react-helmet="true" name="description" content="Here you will find a bunch of functions called Schema Functions. Unlike regular internal functions, schema functions are related to an specific schema and interact directly with the database collection of that schema. So, since these are rather special functions let&#x27;s get some simple details out of the way:"><meta data-react-helmet="true" property="og:description" content="Here you will find a bunch of functions called Schema Functions. Unlike regular internal functions, schema functions are related to an specific schema and interact directly with the database collection of that schema. So, since these are rather special functions let&#x27;s get some simple details out of the way:"><link data-react-helmet="true" rel="shortcut icon" href="/meta-system-docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/functions/schema-functions/intro"><link data-react-helmet="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/functions/schema-functions/intro" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mapikit.github.io/meta-system-docs/docs/api-docs/functions/schema-functions/intro" hreflang="x-default"><link rel="stylesheet" href="/meta-system-docs/assets/css/styles.813e9718.css">
<link rel="preload" href="/meta-system-docs/assets/js/runtime~main.6f06d07f.js" as="script">
<link rel="preload" href="/meta-system-docs/assets/js/main.427175d3.js" as="script">
</head>
<body data-theme="dark">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/meta-system-docs/"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/meta-system-docs/img/logo_metasystem.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Meta-System</b></a><a class="navbar__item navbar__link navbar__link--active" href="/meta-system-docs/docs/api-docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/guides/guides-introduction">Guides</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/tutorials/tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/meta-system-docs/docs/our-packages/our-packages-intro">Packages</a></div><div class="navbar__items navbar__items--right"><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/api-docs/getting-started">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Meta-System Architecture</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Configuring Meta-System</a></li><li class="menu__list-item"><a class="menu__link" href="/meta-system-docs/docs/api-docs/using-the-cli">Meta-System CLI</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">API Functions Reference</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Internal Functions</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Schema Functions</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/intro">Intro to Schemas and Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/queries">About Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/create">Create</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/delete-by-id">Delete By Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/delete">Delete</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/get-by-id">Get By Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/get">Get</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/update-by-id">Updated By Id</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/meta-system-docs/docs/api-docs/functions/schema-functions/update">Update</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Intro to Schemas and Databases</h1></header><p>Here you will find a bunch of functions called <code>Schema Functions</code>. Unlike regular internal functions, schema functions are related to an specific schema and interact directly with the database collection of that schema. So, since these are rather special functions let&#x27;s get some simple details out of the way:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="about-the-database"></a>About the Database<a class="hash-link" href="#about-the-database" title="Direct link to heading">#</a></h3><p>As you probably already know, a database is responsible for storing all the data of your system, be it users profiles, transactions history, market info or watever other info you may need to store. However there are many databases out there, which one will we be using? Well, currently meta-system uses <a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB</a>. After you setup your mongo database all you need to do to use your database in meta-system is supply the database connection url in the <code>system configuration</code>.</p><p>If you need help setting up you MongoDB here are some suggested tutorials for your OS:</p><ul><li><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-windows/" target="_blank" rel="noopener noreferrer">Windows Tutorial</a></li><li><a href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-os-x/" target="_blank" rel="noopener noreferrer">macOs Tutorial</a></li><li><a href="https://docs.mongodb.com/manual/administration/install-on-linux/" target="_blank" rel="noopener noreferrer">Linux Tutorials</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="accessing-a-database"></a>Accessing a Database<a class="hash-link" href="#accessing-a-database" title="Direct link to heading">#</a></h3><p>After you have your database up and running all you need to do, as mentioned previously, is supply the <a href="https://docs.mongodb.com/manual/reference/connection-string/" target="_blank" rel="noopener noreferrer">mongo connection string</a> to the <code>dbConnectionString</code> property in you system config. That is all the meta-system needs to start creating your collections.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-are-collections"></a>What are Collections?<a class="hash-link" href="#what-are-collections" title="Direct link to heading">#</a></h4><p>Don&#x27;t worry, you may have never heard this term here before, but it is quite simple: MongoDb separates its data into collections, much like you separate your files into folders or directories. A database can have many collections, for instance, your database can have a collection called &quot;users&quot; that stores the info about your users and another collection called &quot;prices&quot; that stores the pricing info for you business. This makes for a more organized database and makes it rather easy to manage you data.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-a-new-collection"></a>Creating a new Collection<a class="hash-link" href="#creating-a-new-collection" title="Direct link to heading">#</a></h3><p>Creating a new Collection in meta-system is as simple as writing its name. Literally. Every schema you create corresponds to a collection; when your system starts it creates all necessary collections after the registered schemas names. So, in practice, you don&#x27;t even need to bother with acctually creating the collections, just create a schema and you are all done!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="interacting-with-a-collection"></a>Interacting with a Collection<a class="hash-link" href="#interacting-with-a-collection" title="Direct link to heading">#</a></h3><p>So you create a schema and the meta-system creates a collection for it, brilliant! However, how do you interact with said collections? Well, thats where the <code>schema functions</code> come in. Schema functions are functions capable of interacting directly with your database (i.e. collections) and, in general, they follow the same base configuration. For every <code>schema function</code> the property <code>moduleType</code> should be equal to <code>schemaFunction</code> and the property <code>modulePackage</code> should be the name of the schema the function will act upon. Finally, the <code>moduleName</code> should be name of the operation (available options are <code>create</code>, <code>get</code>,<code>getById</code>, <code>update</code>, <code>updateById</code>, <code>delete</code> and <code>deleteById</code>, all of which will be further explained below).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="simple-example"></a>Simple Example<a class="hash-link" href="#simple-example" title="Direct link to heading">#</a></h3><p>A nice way to undestand how the configuration works is by using an example so, consider the following module configuration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript"><pre tabindex="0" class="prism-code language-javascript codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// This ModuleConfig goes inside the &quot;configuration&quot; property in the Bop</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;moduleType&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;schemaFunction&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Here we define it as a schemaFunctiion</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;moduleName&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;create&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Now we define it as a creation (insertion) function</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;modulePackage&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;numbers&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// And then we say on which collection we will insert (collection &quot;numbers&quot;)</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;dependencies&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Finally we define what will be inserted</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// In this case the value of the constant &quot;constantTen&quot; will be </span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// inserted in the property &quot;valid&quot; of the new database entity</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;origin&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;constants&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;originPath&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;constantTen&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;targetPath&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;entity.valid&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-now"></a>What Now?<a class="hash-link" href="#what-now" title="Direct link to heading">#</a></h3><p>Now that you know how <code>schema functions</code> work, we can get into the specifics of each function.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/mapikit/meta-system-docs/edit/main/docs/api-docs/functions/schema-functions/intro.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/meta-system-docs/docs/api-docs/functions/internal-functions/system/get-system-function"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Get System Function</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/meta-system-docs/docs/api-docs/functions/schema-functions/queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">About Queries »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#about-the-database" class="table-of-contents__link">About the Database</a></li><li><a href="#accessing-a-database" class="table-of-contents__link">Accessing a Database</a></li><li><a href="#creating-a-new-collection" class="table-of-contents__link">Creating a new Collection</a></li><li><a href="#interacting-with-a-collection" class="table-of-contents__link">Interacting with a Collection</a></li><li><a href="#simple-example" class="table-of-contents__link">Simple Example</a></li><li><a href="#what-now" class="table-of-contents__link">What Now?</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mapikit/meta-system" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/ndGsnbTW7V" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Meta-System was built by Mapikit and follows the GPL-3.0 License. Documentation page built with Docusaurus.</div></div></div></footer></div>
<script src="/meta-system-docs/assets/js/runtime~main.6f06d07f.js"></script>
<script src="/meta-system-docs/assets/js/main.427175d3.js"></script>
</body>
</html>